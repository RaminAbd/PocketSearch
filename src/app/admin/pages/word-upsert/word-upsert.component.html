<div class="word-upsert-wrapper">
  <div class="back" (click)="goToBack()">
    <img src="assets/images/back.svg" alt="">
    <p>{{ this.WordId === 'create' ? 'Add new word' : 'Update word'}}</p>
  </div>
  <div class="preview-block">
    <p class="preview">Preview</p>
    <p class="preview-text">
      <span style="font-weight: bold;">{{Request.headWord ? Request.headWord : ''}}</span> [{{Request.pronunciation? Request.pronunciation : ''}}] ts. <span *ngFor="let item of Request.senses">{{item.gloss ? item.gloss : '' + ', '}}</span>- tərcümə.
       <span *ngFor="let item of Request.senses">{{item.definition?item.definition:'' + ', '}}</span> - izahı. <span *ngFor="let item of Request.senses">{{item.exampleOriginal ? item.exampleOriginal : '' + ', '}}</span>-
      ნიმუში sin:
    </p>
  </div>
  <div class="main-form-block">
    <div class="row main">
      <div class="input-item">
        <label for="">Main word</label>
        <input type="text" [(ngModel)]="Request.headWord">
      </div>
      <div class="input-item">
        <label for="">Location</label>
        <input type="text" [(ngModel)]="Request.location">
      </div>

    </div>
    <div class="row">
      <div class="input-item">
        <label for="">Lexeme Form</label>
        <textarea name="" id="" [(ngModel)]="Request.headWord"></textarea>
      </div>
      <div class="input-item">
        <label for="">Pronunciation</label>
        <textarea name="" id="" [(ngModel)]="Request.pronunciation"></textarea>
      </div>
      <div class="input-item">
        <label for="">Etymology</label>
        <textarea name="" id="" [(ngModel)]="Request.etymology"></textarea>
      </div>
    </div>
    <div class="senses">
      <div class="sense-item" *ngFor="let sense of Request.senses;let i = index;">
        <div class="header">
          <h3>Sense {{i+1}}</h3>
          <div class="delete" (click)="deleteSense(i)">
            <img src="assets/images/trash.svg" alt="">
          </div>
        </div>
        <div class="sense-form">
          <div class="row">
            <div class="input-item">
              <label for="">Gloss</label>
              <textarea name="" id="" [(ngModel)]="sense.gloss"></textarea>
            </div>
            <div class="input-item">
              <label for="">Definition</label>
              <textarea name="" id="" [(ngModel)]="sense.definition"></textarea>
            </div>
            <div class="input-item">
              <label for="">Academic</label>
              <textarea name="" id="" [(ngModel)]="sense.academic"></textarea>
            </div>
          </div>
          <div class="row second">
            <div class="input-item">
              <label for="">Example original</label>
              <textarea name="" id="" [(ngModel)]="sense.exampleOriginal"></textarea>
            </div>
            <div class="input-item">
              <label for="">Example translation</label>
              <textarea name="" id="" [(ngModel)]="sense.exampleTranslation"></textarea>
            </div>
          </div>
          <div class="row">
            <div class="input-item">
              <label for="">Gramatical info</label>
              <!-- <input type="text" [(ngModel)]="sense.grammaticalInfo"> -->
              <app-dropdown [options]="grammaticalInfoOptions" (selectValue)="sense.grammaticalInfo = $event.type"
                [DefaultSelection]="sense.grammaticalInfo"></app-dropdown>
            </div>
            <div class="input-item synonym">
              <label for="">Synonyms</label>
              <div class="dropdown">
                <div class="input">
                  <input type="text" id="synonym" [(ngModel)]="sense.SynonimSearchText" (keyup.enter)="search(sense)"
                    (keyup.backspace)="clearSearchArray(sense)">
                  <svg (click)="search(sense)" width="17" height="17" viewBox="0 0 17 17" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M15.5 15.5L10.6667 10.6667M12.3333 6.66667C12.3333 9.79628 9.79628 12.3333 6.66667 12.3333C3.53705 12.3333 1 9.79628 1 6.66667C1 3.53705 3.53705 1 6.66667 1C9.79628 1 12.3333 3.53705 12.3333 6.66667Z"
                      stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
                <div class="list" *ngIf="sense.showSynonymDrop && sense.SynonimSearchText.length>2">
                  <div class="item" *ngFor="let res of sense.SearchResults">
                    <p (click)="selectSynonym(res, sense)">{{res.headWord}}</p>
                  </div>
                </div>
              </div>
              <div class="selectedSynonyms">
                <div class="item" *ngFor="let s of sense.synonymsForView;let i = index;">
                  <p>{{s}}</p>
                  <div class="remove" (click)="removeSelectedSynonym(i, sense)">
                    <img src="assets/images/times.svg" alt="">
                  </div>
                </div>
              </div>
            </div>

            <div class="input-item synonym">
              <label for="">Antonyms</label>
              <div class="dropdown">
                <div class="input">
                  <input type="text" id="antonym" [(ngModel)]="sense.AntonymSearchText" (keyup.enter)="searchAntonym(sense)"
                    (keyup.backspace)="clearAntonymSearchArray(sense)">
                  <svg (click)="searchAntonym(sense)" width="17" height="17" viewBox="0 0 17 17" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M15.5 15.5L10.6667 10.6667M12.3333 6.66667C12.3333 9.79628 9.79628 12.3333 6.66667 12.3333C3.53705 12.3333 1 9.79628 1 6.66667C1 3.53705 3.53705 1 6.66667 1C9.79628 1 12.3333 3.53705 12.3333 6.66667Z"
                      stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
                <div class="list" *ngIf="sense.showAntonymDrop && sense.AntonymSearchText.length>2">
                  <div class="item" *ngFor="let res of sense.AntonymSearchResults">
                    <p (click)="selectAntonym(res, sense)">{{res.headWord}}</p>
                  </div>
                </div>
              </div>
              <div class="selectedSynonyms">
                <div class="item" *ngFor="let s of sense.antonymsForView;let i = index;">
                  <p>{{s}}</p>
                  <div class="remove" (click)="removeSelectedAntonym(i, sense)">
                    <img src="assets/images/times.svg" alt="">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="add-sense-btn" (click)="addSense()">
      <div class="plus-icon"></div>
      <p>Add sense {{Request.senses.length + 1}}</p>
    </div>
  </div>
  <div class="actions">
    <div class="delete" (click)="delete()">
      <img src="assets/images/trash.svg" alt="">
    </div>
    <div class="save-btns">
      <div class="save-close" (click)="saveClose()">
        <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M11.1333 5.44444H5.72889C5.25596 5.44444 5.01949 5.44444 4.83885 5.34756C4.67996 5.26234 4.55078 5.12636 4.46982 4.9591C4.37778 4.76896 4.37778 4.52005 4.37778 4.02222V1M12.8222 17V11.3111C12.8222 10.8133 12.8222 10.5644 12.7302 10.3742C12.6492 10.207 12.52 10.071 12.3611 9.98577C12.1805 9.88889 11.944 9.88889 11.4711 9.88889H5.72889C5.25596 9.88889 5.01949 9.88889 4.83885 9.98577C4.67996 10.071 4.55078 10.207 4.46982 10.3742C4.37778 10.5644 4.37778 10.8133 4.37778 11.3111V17M16.2 6.62265V12.7333C16.2 14.2268 16.2 14.9735 15.9239 15.544C15.681 16.0457 15.2935 16.4537 14.8168 16.7094C14.2749 17 13.5655 17 12.1467 17H5.05333C3.63453 17 2.92513 17 2.38322 16.7094C1.90655 16.4537 1.519 16.0457 1.27612 15.544C1 14.9735 1 14.2268 1 12.7333V5.26667C1 3.77319 1 3.02646 1.27612 2.45603C1.519 1.95426 1.90655 1.54631 2.38322 1.29065C2.92513 1 3.63453 1 5.05333 1H10.8585C11.2716 1 11.4781 1 11.6725 1.04912C11.8448 1.09267 12.0095 1.1645 12.1607 1.26197C12.3311 1.37191 12.4771 1.52565 12.7692 1.83312L15.4085 4.61133C15.7006 4.9188 15.8467 5.07253 15.9511 5.25194C16.0437 5.411 16.112 5.58441 16.1533 5.76581C16.2 5.97041 16.2 6.18782 16.2 6.62265Z"
            stroke="#02A698" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <p>Save & Close</p>
      </div>
      <div class="save-add" *ngIf="WordId === 'create'" (click)="saveNew()">
        <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M11.1333 5.44444H5.72889C5.25596 5.44444 5.01949 5.44444 4.83885 5.34756C4.67996 5.26234 4.55078 5.12636 4.46982 4.9591C4.37778 4.76896 4.37778 4.52005 4.37778 4.02222V1M12.8222 17V11.3111C12.8222 10.8133 12.8222 10.5644 12.7302 10.3742C12.6492 10.207 12.52 10.071 12.3611 9.98577C12.1805 9.88889 11.944 9.88889 11.4711 9.88889H5.72889C5.25596 9.88889 5.01949 9.88889 4.83885 9.98577C4.67996 10.071 4.55078 10.207 4.46982 10.3742C4.37778 10.5644 4.37778 10.8133 4.37778 11.3111V17M16.2 6.62265V12.7333C16.2 14.2268 16.2 14.9735 15.9239 15.544C15.681 16.0457 15.2935 16.4537 14.8168 16.7094C14.2749 17 13.5655 17 12.1467 17H5.05333C3.63453 17 2.92513 17 2.38322 16.7094C1.90655 16.4537 1.519 16.0457 1.27612 15.544C1 14.9735 1 14.2268 1 12.7333V5.26667C1 3.77319 1 3.02646 1.27612 2.45603C1.519 1.95426 1.90655 1.54631 2.38322 1.29065C2.92513 1 3.63453 1 5.05333 1H10.8585C11.2716 1 11.4781 1 11.6725 1.04912C11.8448 1.09267 12.0095 1.1645 12.1607 1.26197C12.3311 1.37191 12.4771 1.52565 12.7692 1.83312L15.4085 4.61133C15.7006 4.9188 15.8467 5.07253 15.9511 5.25194C16.0437 5.411 16.112 5.58441 16.1533 5.76581C16.2 5.97041 16.2 6.18782 16.2 6.62265Z"
            stroke="#02A698" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <p>Save & Add more</p>
      </div>
    </div>
  </div>
</div>
